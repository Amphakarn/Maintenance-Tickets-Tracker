

// all my properties for given pm_id 

app.get("/my_properties/:pm_id", (req, res) => {
  
  const pm_id = req.params.pm_id;
  console.log("Hello from: route 4 ");

  myProperties = getAllPropertiesByPM_Id(pm_id)
  .then((response) => {
    res.send(response);
});
  
}); 


// all tickets for a specific property 
//5
app.get("/properties/:property_id/tickets", (req, res) => {

  const property_id = req.params.property_id;

  console.log("Hello from: route 5  ");

  propertyTickets = getAllTicketsByProperty_Id(property_id)
  .then((response) => {
    res.send(response);
  });
 
});

// all employees for a specific property
//11
app.get("/properties/employees/:property_id", (req, res) => {
  console.log("Hello from: route 11  ");
  const property_id = req.params.property_id;
  allEmployees = getAllEmployeesByProperty_Id(property_id)
  .then((response) => {
    res.send(response);
  });
});